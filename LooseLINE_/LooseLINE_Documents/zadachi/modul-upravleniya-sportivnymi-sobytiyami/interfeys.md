---
order: 1
title: Интерфейс
---

### 🏗️ СТРУКТУРА FRONTEND ПАПОК

```
frontend/src/
├── pages/
│   ├── EventsMainPage.tsx          ⭐ Главная страница со событиями
│   ├── EventDetailsPage.tsx         ⭐ Детали одного события
│   └── AdminEventsPage.tsx          ⭐ Админ-панель (управление событиями)
│
├── components/
│   ├── Events/
│   │   ├── EventsList.tsx           📋 Список/таблица событий
│   │   ├── EventCard.tsx            🎟️ Карточка одного события
│   │   ├── EventRow.tsx             📊 Строка в таблице событий
│   │   └── EventsLoadingSkleton.tsx ⏳ Скелетон загрузки
│   │
│   ├── Filters/
│   │   ├── SportFilter.tsx          ⚽ Кнопки выбора спорта
│   │   ├── LeagueFilter.tsx         🏆 Выпадающее меню лиг
│   │   ├── StatusFilter.tsx         🔴 Фильтр по статусу
│   │   └── FilterPanel.tsx          🔍 Вся панель фильтров
│   │
│   ├── Coefficients/
│   │   ├── CoefficientDisplay.tsx   📈 Отображение коэффициентов
│   │   ├── CoefficientButton.tsx    🎯 Кнопка одного коэффициента
│   │   └── OddsTable.tsx            📊 Таблица коэффициентов
│   │
│   ├── StartMenu/
│   │   ├── StartMenu.tsx            🏠 Главное меню
│   │   ├── SportsList.tsx           ⚽ Список видов спорта
│   │   ├── PopularLeagues.tsx       🏆 Популярные лиги
│   │   └── EventsCounter.tsx        🔔 Счётчик событий
│   │
│   ├── Pagination/
│   │   └── PaginationControls.tsx   📄 Навигация по страницам
│   │
│   ├── Admin/
│   │   ├── EventForm.tsx            ➕ Форма добавления события
│   │   ├── EventEditor.tsx          ✏️ Редактирование события
│   │   ├── CoefficientEditor.tsx    📈 Редактирование коэффициентов
│   │   ├── EventDeleteModal.tsx     🗑️ Подтверждение удаления
│   │   └── AdminEventsList.tsx      📋 Список событий для админа
│   │
│   ├── UI/
│   │   ├── Badge.tsx               🏷️ Бейдж статуса
│   │   ├── Modal.tsx               📦 Модальное окно
│   │   ├── LoadingSpinner.tsx       ⏳ Загрузка
│   │   ├── Toast.tsx               📢 Уведомления
│   │   └── Button.tsx              🔘 Кнопки
│   │
│   └── Layout/
│       ├── Header.tsx              📌 Шапка с навигацией
│       ├── Sidebar.tsx             📍 Боковая панель
│       └── Container.tsx           📦 Контейнер контента
│
├── services/
│   ├── eventService.ts             🔌 API клиент для Петра
│   └── analyticsService.ts         📊 Аналитика событий
│
├── types/
│   └── events.ts                   📋 TypeScript интерфейсы
│
├── hooks/
│   ├── useEvents.ts                🪝 Хук загрузки событий
│   ├── useFilters.ts               🪝 Хук управления фильтрами
│   └── usePagination.ts            🪝 Хук пагинации
│
├── context/
│   └── EventsContext.tsx           🔄 Контекст для событий
│
├── styles/
│   ├── events.module.css           🎨 Стили компонентов событий
│   ├── filters.module.css          🎨 Стили фильтров
│   ├── admin.module.css            🎨 Стили админ-панели
│   └── global.css                  🎨 Глобальные стили
│
└── utils/
    ├── formatters.ts               🔧 Форматирование дат, денег
    ├── validators.ts               ✅ Валидация формы
    └── constants.ts                📌 Константы приложения
```

---

## 🏠 ЭТАП 1: ГЛАВНОЕ МЕНЮ (StartMenu)

### ЧТО ЭТО?

Первая страница приложения, которую видит пользователь.

### КОМПОНЕНТ 1: StartMenu.tsx

**ЧТО ПОКАЗЫВАЕТ?**

```
┌──────────────────────────────────────────────┐
│              LOOSELINE СПОРТЛИНИЯ             │
├──────────────────────────────────────────────┤
│                                              │
│  🏠 ГЛАВНОЕ МЕНЮ                            │
│                                              │
│  ┌──────────────────────────────────────┐   │
│  │  🔥 ПОПУЛЯРНЫЕ ВИДЫ СПОРТА          │   │
│  ├──────────────────────────────────────┤   │
│  │  ⚽ Football (234 событий)           │   │
│  │  🏀 Basketball (156 событий)         │   │
│  │  🎾 Tennis (89 событий)              │   │
│  │  🏒 Hockey (67 событий)              │   │
│  │  ⚾ Baseball (45 событий)             │   │
│  │                                      │   │
│  │  [Просмотреть все →]                 │   │
│  └──────────────────────────────────────┘   │
│                                              │
│  ┌──────────────────────────────────────┐   │
│  │  ⏰ СОБЫТИЯ НА СЛЕДУЮЩИЕ 24 ЧАСА    │   │
│  ├──────────────────────────────────────┤   │
│  │  🔔 45 активных событий               │   │
│  │  ▶️ [Перейти к событиям →]           │   │
│  │                                      │   │
│  │  Последнее событие через:  2ч 45м   │   │
│  └──────────────────────────────────────┘   │
│                                              │
│  ┌──────────────────────────────────────┐   │
│  │  🏆 ТОП-5 ЛИГ ПО КОЛИЧЕСТВУ МАТЧЕЙ  │   │
│  ├──────────────────────────────────────┤   │
│  │  1. Premier League (23 события)      │   │
│  │  2. La Liga (19 событий)             │   │
│  │  3. Serie A (18 событий)             │   │
│  │  4. NBA (15 событий)                 │   │
│  │  5. Wimbledon (12 событий)           │   │
│  └──────────────────────────────────────┘   │
│                                              │
│  ┌──────────────────────────────────────┐   │
│  │  📊 СТАТИСТИКА                      │   │
│  ├──────────────────────────────────────┤   │
│  │  Всего событий в системе: 234       │   │
│  │  Live сейчас: 12 матчей             │   │
│  │  Завершено сегодня: 34 события      │   │
│  └──────────────────────────────────────┘   │
│                                              │
│  [Начать делать ставки →]                   │
│                                              │
└──────────────────────────────────────────────┘
```

**ЧТО ПРОИСХОДИТ ВНУТРИ?**

```
1. Компонент загружается
   ↓
2. useEffect запускается:
   eventService.getStartMenu()
   ↓
3. Backend (Петр) обрабатывает:
   GET /api/events/menu
   ↓
4. Возвращает JSON с видами спорта, событиями на 24h, лигами
   ↓
5. React обновляет state:
   {
     sports: [...],
     upcoming_24h: 45,
     popular_leagues: [...]
   }
   ↓
6. Компонент re-renders и показывает данные
   ↓
7. Пользователь видит красивое меню с информацией
```

**ВЛОЖЕННЫЕ КОМПОНЕНТЫ:**

-  `SportsList.tsx` -- список видов спорта

-  `EventsCounter.tsx` -- счётчик событий на 24h

-  `PopularLeagues.tsx` -- топ лиг

---

## ⚽ ЭТАП 2: СТРАНИЦА СОБЫТИЙ (EventsMainPage)

### ЧТО ЭТО?

Основная страница со списком всех событий и коэффициентами.

### СТРУКТУРА СТРАНИЦЫ:

```
┌────────────────────────────────────────────────────────┐
│ LOOSELINE | События | История | Профиль | Админ       │
├────────────────────────────────────────────────────────┤
│                                                        │
│  ┌──────────────────────────────────────────────────┐  │
│  │ ФИЛЬТРЫ:                                         │  │
│  │ [⚽Football] [🏀Basketball] [🎾Tennis] [🏒Hockey]│  │
│  │                                                  │  │
│  │ Лига: [Premier League ▼]                        │  │
│  │ Статус: [Все события ▼]                         │  │
│  │                                                  │  │
│  │ [🔍 Применить] [✕ Очистить]                    │  │
│  └──────────────────────────────────────────────────┘  │
│                                                        │
│  ТАБЛИЦА СОБЫТИЙ:                                     │
│  ┌───────────────────────────────────────────────────┐ │
│  │ Дата/Время | Событие        | Лига    | Коэффи │ │
│  ├───────────────────────────────────────────────────┤ │
│  │ 15.12 18:00│ Man Utd-Liver  │ Premier │ П1 X П2│ │
│  │            │ (scheduled)    │         │ 1.85   │ │
│  │            │                │         │ 3.40   │ │
│  │            │                │         │ 4.10   │ │
│  │            │                │         │ [Ставка]│ │
│  ├───────────────────────────────────────────────────┤ │
│  │ 15.12 19:45│ Real-Barca     │ La Liga │ П1 X П2│ │
│  │ 🔴 LIVE    │                │         │ 2.10   │ │
│  │            │                │         │ 3.50   │ │
│  │            │                │         │ 3.20   │ │
│  │            │                │         │ [Ставка]│ │
│  ├───────────────────────────────────────────────────┤ │
│  │ 16.12 16:00│ Arsenal-Chelsea│ Premier │ П1 X П2│ │
│  │ ✅ FINISH  │ (1-0)          │         │ 1.95   │ │
│  │            │                │         │ 3.30   │ │
│  │            │                │         │ 4.00   │ │
│  │            │                │         │ [Ставка]│ │
│  └───────────────────────────────────────────────────┘ │
│                                                        │
│  < Назад  [1] [2] [3] [4] [5] ... [12]  Далее >     │
│  Показано: 20 из 234 событий                         │
│                                                        │
└────────────────────────────────────────────────────────┘
```

**ВЛОЖЕННЫЕ КОМПОНЕНТЫ:**

-  `FilterPanel.tsx` -- панель фильтров

-  `EventsList.tsx` -- список событий

-  `EventRow.tsx` -- одна строка в таблице

-  `PaginationControls.tsx` -- навигация по страницам

**ЧТО ПРОИСХОДИТ?**

```
1. Пользователь открывает /events
   ↓
2. useEvents() хук загружает события:
   eventService.loadSportEvents(
     sport_type=null,
     league=null,
     page=1,
     per_page=20
   )
   ↓
3. Backend вызывает:
   GET /api/events/?page=1&per_page=20
   ↓
4. Возвращает 20 событий с коэффициентами
   ↓
5. React отображает таблицу
   ↓
6. Пользователь кликает на фильтр "Football"
   ↓
7. useFilters() обновляет state
   ↓
8. useEffect заново вызывает API:
   GET /api/events/?sport_type=football&page=1
   ↓
9. Таблица обновляется (только футбол)
```

---

## 🔍 ЭТАП 3: КОМПОНЕНТ ФИЛЬТРАЦИИ (FilterPanel.tsx)

### ЧТО ПОКАЗЫВАЕТ?

```
┌──────────────────────────────────────────────┐
│ 🔍 ФИЛЬТРЫ:                                  │
├──────────────────────────────────────────────┤
│                                              │
│ ВИДА СПОРТА:                                 │
│ ┌──────────────────────────────────────────┐ │
│ │ [⚽Football] [🏀Basketball] [🎾Tennis]    │ │
│ │ [🏒Hockey]  [⚾Baseball]   [🏈American F.]│ │
│ │ [⛳Golf]    [🏓Ping Pong]                │ │
│ │                                          │ │
│ │ (Активный спорт выделен зелёным)       │ │
│ └──────────────────────────────────────────┘ │
│                                              │
│ ЛИГА:                                        │
│ ┌──────────────────────────────────────────┐ │
│ │ [Все лиги ▼]                             │ │
│ │                                          │ │
│ │ При выборе Football:                    │ │
│ │ • Premier League                        │ │
│ │ • La Liga                               │ │
│ │ • Serie A                               │ │
│ │ • Bundesliga                            │ │
│ │ • Ligue 1                               │ │
│ └──────────────────────────────────────────┘ │
│                                              │
│ СТАТУС:                                      │
│ ◉ Все события                               │ │
│ ○ Только предстоящие (scheduled)            │ │
│ ○ Только live                               │ │
│ ○ Только завершённые (finished)             │ │
│                                              │
│ [🔵 Применить фильтры] [✕ Очистить]        │ │
│                                              │
└──────────────────────────────────────────────┘
```

**КОМПОНЕНТЫ:**

-  `SportFilter.tsx` -- кнопки видов спорта

-  `LeagueFilter.tsx` -- выпадающее меню лиг

-  `StatusFilter.tsx` -- radio buttons статусов

**ЧТО ПРОИСХОДИТ?**

```
1. Пользователь кликает на "Football"
   ↓
2. SportFilter.tsx вызывает onClick handler
   ↓
3. useFilters() обновляет state:
   { sport_type: 'football', league: null, status: null }
   ↓
4. FilterPanel показывает лиги для футбола
   ↓
5. Пользователь выбирает "Premier League"
   ↓
6. LeagueFilter.tsx обновляет state:
   { sport_type: 'football', league: 'Premier League', status: null }
   ↓
7. Пользователь кликает "Применить фильтры"
   ↓
8. eventService вызывает:
   GET /api/events/?sport_type=football&league=Premier+League&page=1
   ↓
9. Таблица обновляется (только футбол + Premier League)
```

---

## 🎟️ ЭТАП 4: КОМПОНЕНТ СОБЫТИЯ (EventCard.tsx / EventRow.tsx)

### ВАРИАНТ 1: Карточка события (для мобильных)

```
┌────────────────────────────────────┐
│ ⚽ Premier League | 15.12.2025     │
├────────────────────────────────────┤
│                                    │
│  Manchester United  vs  Liverpool  │
│       (home_team)       (away_team)│
│                                    │
│ 📅 15 Декабря, 18:00               │
│ 🔴 scheduled (в 2 часа 45 минут)  │
│                                    │
├────────────────────────────────────┤
│       КОЭФФИЦИЕНТЫ:                 │
│ ┌──────────┬──────────┬──────────┐ │
│ │ П1 (1)   │ X (Ничья)│ П2 (2)   │ │
│ │ 1.85     │ 3.40     │ 4.10     │ │
│ │ [СТАВКА] │ [СТАВКА] │ [СТАВКА] │ │
│ └──────────┴──────────┴──────────┘ │
│                                    │
│ [📊 Детали] [⭐ В избранное]       │
│                                    │
└────────────────────────────────────┘
```

### ВАРИАНТ 2: Строка таблицы (для десктопа)

```
┌────────────────────────────────────────────────────────┐
│ Дата/Время  │ Событие          │ Лига        │Коэффи │
├────────────────────────────────────────────────────────┤
│ 15.12 18:00 │ Man Utd - Liver  │ Premier     │ П1 X  │
│ 🔴scheduled │ (в 2ч 45м)       │ League      │ 1.85  │
│             │                  │             │ 3.40  │
│             │                  │             │ П2    │
│             │                  │             │ 4.10  │
│             │                  │             │       │
│             │                  │             │ [СТАВКА]
├────────────────────────────────────────────────────────┤
│ 15.12 19:45 │ Real - Barca     │ La Liga     │ П1 X  │
│ 🔴 LIVE     │ (идёт сейчас)    │             │ 2.10  │
│             │ 1-0              │             │ 3.50  │
│             │                  │             │ П2    │
│             │                  │             │ 3.20  │
│             │                  │             │       │
│             │                  │             │ [СТАВКА]
└────────────────────────────────────────────────────────┘
```

**ЧТО ПРОИСХОДИТ?**

```
1. EventRow.tsx получает props:
   {
     event_id: 1,
     home_team: "Man Utd",
     away_team: "Liverpool",
     event_datetime: "2025-12-15T18:00:00Z",
     status: "scheduled",
     odds: [...]
   }
   ↓
2. Форматирует время:
   "2025-12-15T18:00:00Z" → "15.12 18:00"
   ↓
3. Рассчитывает время до события:
   event_datetime - NOW = "в 2 часа 45 минут"
   ↓
4. Отображает коэффициенты
   ↓
5. При клике на [СТАВКА]:
   - Открывает модальное окно с деталями события
   - Передаёт event_id в модуль Третьего (ставки)
   - Пользователь выбирает коэффициент и сумму ставки
```

**КОМПОНЕНТЫ:**

-  `EventCard.tsx` -- карточка события (мобайл)

-  `EventRow.tsx` -- строка таблицы (десктоп)

-  `CoefficientDisplay.tsx` -- отображение коэффициентов

---

## 📈 ЭТАП 5: КОМПОНЕНТ КОЭФФИЦИЕНТОВ (CoefficientDisplay.tsx)

### ЧТО ПОКАЗЫВАЕТ?

```
Man Utd vs Liverpool

┌──────────────────────────────────────┐
│ Исход               Коэффициент      │
├──────────────────────────────────────┤
│ П1 (Man Utd wins)     1.85 ⬆️ +0.05  │  (повысился)
│                       [Выбрать П1]   │
├──────────────────────────────────────┤
│ X (Draw)              3.40            │
│                       [Выбрать X]    │
├──────────────────────────────────────┤
│ П2 (Liverpool wins)   4.10 ⬇️ -0.10  │  (понизился)
│                       [Выбрать П2]   │
└──────────────────────────────────────┘

История изменений коэффициентов:
┌──────────────────────────────────────┐
│ П1 коэффициент был:                  │
│ • 1.80 в 10:00                       │
│ • 1.82 в 11:30                       │
│ • 1.85 в 12:45 (текущий)             │
│                                      │
│ Тренд: 📈 Растет (спрос на П1)      │
└──────────────────────────────────────┘
```

**ЧТО ПРОИСХОДИТ?**

```
1. CoefficientDisplay.tsx получает odds:
   [
     { odds_id: 1, bet_type: "1", coefficient: 1.85 },
     { odds_id: 2, bet_type: "X", coefficient: 3.40 },
     { odds_id: 3, bet_type: "2", coefficient: 4.10 }
   ]
   ↓
2. Для каждого коэффициента:
   - Отображает значение
   - Показывает стрелку (⬆️ если вырос, ⬇️ если упал)
   - Показит изменение (+0.05 или -0.10)
   ↓
3. Создаёт кнопку [Выбрать П1]
   ↓
4. При клике на кнопку:
   - Сохраняет выбранный odds_id
   - Открывает форму ставки
   - Передаёт event_id и odds_id в модуль Третьего
```

**КОМПОНЕНТЫ:**

-  `CoefficientDisplay.tsx` -- вся таблица коэффициентов

-  `CoefficientButton.tsx` -- одна кнопка коэффициента

-  `OddsChart.tsx` -- график изменения коэффициента (опционально)

---

## 📄 ЭТАП 6: ПАГИНАЦИЯ (PaginationControls.tsx)

### ЧТО ПОКАЗЫВАЕТ?

```
Всего событий: 234
По 20 на странице = 12 страниц

< Назад  [1] [2] [3] [4] [5] ... [10] [11] [12]  Далее >
         ↑
      Текущая страница выделена зелёным

Если на 1 странице:    < заблокирована
Если на последней:     Далее > заблокирована
```

**ЧТО ПРОИСХОДИТ?**

```
1. Пользователь кликает на [3]
   ↓
2. usePagination() обновляет page в state
   ↓
3. useEffect запускается:
   eventService.loadSportEvents(
     sport_type=current,
     league=current,
     page=3,
     per_page=20
   )
   ↓
4. Backend вызывает:
   GET /api/events/?page=3&per_page=20
   OFFSET = (3-1) * 20 = 40
   LIMIT = 20
   (события с 41 по 60)
   ↓
5. Таблица обновляется
   ↓
6. Пользователь видит события 41-60
   ↓
7. PaginationControls обновляет выделение ([3] вместо [2])
```

---

## 👨‍💼 ЭТАП 7: АДМИН-ПАНЕЛЬ (AdminEventsPage.tsx)

### ЧТО ПОКАЗЫВАЕТ?

```
┌────────────────────────────────────────────────┐
│ 🔐 АДМИН-ПАНЕЛЬ (УПРАВЛЕНИЕ СОБЫТИЯМИ)        │
├────────────────────────────────────────────────┤
│                                                │
│  [➕ Добавить событие] [📊 Статистика]        │
│                                                │
│  СОБЫТИЯ:                                      │
│  ┌──────────────────────────────────────────┐  │
│  │ ID │ Событие    │ Статус   │ Действия  │  │
│  ├──────────────────────────────────────────┤  │
│  │ 1  │ Man U-Chel │ scheduled│ ✏️ 📈 🗑️  │  │
│  │    │ 15.12 18:00│          │          │  │
│  ├──────────────────────────────────────────┤  │
│  │ 2  │ Real-Barca │ live     │ ✏️ 📈 🗑️  │  │
│  │    │ 15.12 19:45│ 1-0      │          │  │
│  ├──────────────────────────────────────────┤  │
│  │ 3  │ Arsenal-Li │ finished │ ✏️ 📈    │  │
│  │    │ 16.12 16:00│ 1-1      │          │  │
│  └──────────────────────────────────────────┘  │
│                                                │
│  ФИЛЬТРЫ: [scheduled] [live] [finished] [ALL] │
│                                                │
│  < [1] [2] [3] ... [5] >                      │
│                                                │
└────────────────────────────────────────────────┘
```

### ПОДЭТАП 7A: ДОБАВЛЕНИЕ СОБЫТИЯ (EventForm.tsx)

**ЧТО ПОКАЗЫВАЕТ?**

```
┌──────────────────────────────────────┐
│ ➕ ДОБАВИТЬ НОВОЕ СОБЫТИЕ            │
├──────────────────────────────────────┤
│                                      │
│ Вид спорта: [football ▼]             │
│ Лига: [Premier League ▼]             │
│ Домашняя команда: [_____________]  │
│ Гостевая команда: [_____________]  │
│ Дата: [15 Декабря 2025 ▼]          │
│ Время: [18:00 ▼]                   │
│                                      │
│ КОЭФФИЦИЕНТЫ:                       │
│ П1 (Победа дома): [1.85]            │
│ X (Ничья): [3.40]                   │
│ П2 (Победа в гостях): [4.10]        │
│                                      │
│ [✅ Создать событие] [❌ Отмена]    │
│                                      │
└──────────────────────────────────────┘
```

**ЧТО ПРОИСХОДИТ?**

```
1. Админ вводит данные события
   ↓
2. Кликает "Создать событие"
   ↓
3. Frontend вызывает:
   eventService.createEvent({
     sport_type: 'football',
     league_name: 'Premier League',
     home_team: 'Chelsea',
     away_team: 'Tottenham',
     event_datetime: '2025-12-15T18:00:00Z',
     odds_data: [
       { bet_type: '1', coefficient: 1.85 },
       { bet_type: 'X', coefficient: 3.40 },
       { bet_type: '2', coefficient: 4.10 }
     ]
   })
   ↓
4. Backend (Петр) обрабатывает:
   POST /api/events/
   ↓
5. Создаёт событие в БД
   ↓
6. Возвращает новое событие с ID
   ↓
7. Frontend показывает:
   "✅ Событие создано! (ID: 235)"
   ↓
8. Список событий обновляется (показывает новое)
```

**КОМПОНЕНТЫ:**

-  `EventForm.tsx` -- форма добавления

-  Валидация через `validators.ts`

---

### ПОДЭТАП 7B: РЕДАКТИРОВАНИЕ СОБЫТИЯ (EventEditor.tsx)

**ЧТО ПОКАЗЫВАЕТ?**

```
┌──────────────────────────────────────┐
│ ✏️ РЕДАКТИРОВАНИЕ СОБЫТИЯ #1         │
├──────────────────────────────────────┤
│                                      │
│ Событие: Man Utd vs Liverpool        │
│ Статус: [scheduled ▼]                │
│        ↓ [live ▼]                    │
│        ↓ [finished ▼]                │
│                                      │
│ ЕСЛИ live ИЛИ finished:              │
│ Голы дома: [_]                       │
│ Голы в гостях: [_]                   │
│                                      │
│ КОЭФФИЦИЕНТЫ:                        │
│ П1: [1.85] ⬆️ ⬇️                     │
│ X:  [3.40] ⬆️ ⬇️                     │
│ П2: [4.10] ⬆️ ⬇️                     │
│ (клик на ⬆️/⬇️ открывает редактор)  │
│                                      │
│ [✅ Сохранить] [❌ Отмена]          │
│                                      │
└──────────────────────────────────────┘
```

**ЧТО ПРОИСХОДИТ?**

```
1. Админ кликает на ✏️ рядом с событием
   ↓
2. EventEditor.tsx загружает данные события:
   eventService.getEventDetails(event_id)
   ↓
3. Форма заполняется:
   - Событие: Man Utd vs Liverpool
   - Текущий статус: scheduled
   - Коэффициенты: 1.85, 3.40, 4.10
   ↓
4. Админ меняет статус на "live"
   ↓
5. Появляются поля для ввода результата:
   "Голы дома: [1]"
   "Голы в гостях: [0]"
   ↓
6. Админ вводит результат (1-0)
   ↓
7. Кликает "Сохранить"
   ↓
8. Frontend вызывает:
   eventService.updateEvent(event_id, {
     status: 'live',
     home_score: 1,
     away_score: 0
   })
   ↓
9. Backend обрабатывает:
   PUT /api/events/1
   ↓
10. Обновляет событие в БД
    ↓
11. Frontend показывает:
    "✅ Событие обновлено!"
    ↓
12. Список событий обновляется
    (Man Utd vs Liverpool теперь LIVE 1-0)
```

---

### ПОДЭТАП 7C: РЕДАКТИРОВАНИЕ КОЭФФИЦИЕНТОВ (CoefficientEditor.tsx)

**ЧТО ПОКАЗЫВАЕТ?**

```
┌────────────────────────────────────────┐
│ 📈 РЕДАКТИРОВАНИЕ КОЭФФИЦИЕНТОВ       │
│    события "Man Utd vs Liverpool"      │
├────────────────────────────────────────┤
│                                        │
│ П1 (Победа дома):                     │
│ Текущий: 1.85                         │
│ [═════════●──────────] 1.50 ↔ 5.00    │
│ Новый:   1.90                         │
│ Изменение: +0.05 (+2.7%)              │
│                                        │
│ X (Ничья):                            │
│ Текущий: 3.40                         │
│ [════●────────────────] 2.00 ↔ 8.00   │
│ Новый:   3.40                         │
│ Изменение: 0 (не изменился)           │
│                                        │
│ П2 (Победа в гостях):                 │
│ Текущий: 4.10                         │
│ [──────────────────●──] 1.50 ↔ 5.00   │
│ Новый:   4.10                         │
│ Изменение: 0 (не изменился)           │
│                                        │
│ Причина изменения:                    │
│ [Много ставок на П1 ▼]                │
│ Варианты:                             │
│ • Много ставок на победу дома         │
│ • Много ставок на ничью                │
│ • Много ставок на победу в гостях     │
│ • Балансировка коэффициентов           │
│ • Корректировка по линии рынка        │
│ • Другое                              │
│                                        │
│ [✅ Сохранить] [❌ Отмена]            │
│                                        │
└────────────────────────────────────────┘
```

**ЧТО ПРОИСХОДИТ?**

```
1. Админ кликает на 📈 рядом с событием
   ↓
2. CoefficientEditor загружает коэффициенты:
   eventService.getEventDetails(event_id)
   ↓
3. Для каждого коэффициента показывает слайдер
   ↓
4. Админ движет слайдер П1 (1.85 → 1.90)
   ↓
5. Выбирает причину: "Много ставок на П1"
   ↓
6. Кликает "Сохранить"
   ↓
7. Frontend вызывает для каждого изменённого коэффициента:
   eventService.updateCoefficient(
     odds_id=1,
     new_coefficient=1.90,
     reason='Много ставок на П1'
   )
   ↓
8. Backend обрабатывает:
   POST /api/events/odds/1/update
   ↓
9. Обновляет коэффициент в БД
   ↓
10. Записывает в odds_history: 1.85 → 1.90 (админ_1, "Много ставок")
    ↓
11. Frontend показывает:
    "✅ Коэффициенты обновлены!"
    ↓
12. На главной странице:
    P1 теперь показывает 1.90 вместо 1.85
```

---

### ПОДЭТАП 7D: УДАЛЕНИЕ СОБЫТИЯ (EventDeleteModal.tsx)

**ЧТО ПОКАЗЫВАЕТ?**

```
┌──────────────────────────────┐
│ ⚠️ УДАЛИТЬ СОБЫТИЕ?          │
├──────────────────────────────┤
│                              │
│ Вы собираетесь удалить:      │
│ Man Utd vs Liverpool         │
│ 15.12.2025 18:00             │
│ Premier League               │
│                              │
│ ❌ ЭТО ДЕЙСТВИЕ НЕОБРАТИМО!  │
│                              │
│ Причина удаления:            │
│ [_______________________]    │
│ (e.g., "Матч отменён")      │
│                              │
│ [🗑️ Удалить] [❌ Отмена]    │
│                              │
└──────────────────────────────┘
```

**ЧТО ПРОИСХОДИТ?**

```
1. Админ кликает на 🗑️ рядом с событием
   ↓
2. Открывается модальное окно подтверждения
   ↓
3. Админ вводит причину удаления
   ↓
4. Кликает "Удалить"
   ↓
5. Frontend вызывает:
   eventService.deleteEvent(
     event_id=1,
     reason='Матч отменён'
   )
   ↓
6. Backend обрабатывает:
   DELETE /api/events/1
   ↓
7. Проверяет:
   - Нельзя удалять live события
   - Нельзя удалять finished события
   - Если есть ставки → возвращает деньги
   ↓
8. Удаляет коэффициенты и событие из БД
   ↓
9. Frontend показывает:
   "✅ Событие удалено"
   ↓
10. Список событий обновляется (событие исчезает)
```

---

## 🎨 ЭТАП 8: СТИЛИ И ОФОРМЛЕНИЕ

### ЦВЕТА:

```css
/* Используемые цвета из дизайн-системы */
--color-primary: #27ae60;        /* Зелёный (кнопки, активные) */
--color-info: #3498db;           /* Синий (инфо, коэффициенты) */
--color-success: #27ae60;        /* Зелёный (успех) */
--color-error: #e74c3c;          /* Красный (ошибки, live) */
--color-warning: #f39c12;        /* Жёлтый (предупреждения) */
--color-text-primary: #2c3e50;   /* Тёмный текст */
--color-bg-primary: #ffffff;     /* Белый фон */
--color-bg-secondary: #f8f9fa;   /* Светло-серый фон */
--color-border: #ecf0f1;         /* Светлая граница */
```

### БЕЙДЖИ СТАТУСА:

```
scheduled → серый (#95a5a6)
  Текст: "Будет в 2ч 45м"

🔴 live → красный (#e74c3c) + мигание
  Текст: "LIVE"

✅ finished → зелёный (#27ae60)
  Текст: "Завершено"
```

### ОТЗЫВЧИВОСТЬ (Responsive):

```
📱 Мобильный (320px - 768px):
  - EventCard (карточки стопкой)
  - FilterPanel свёрнута в меню
  - Таблица переходит на карточки

💻 Десктоп (768px+):
  - EventsTable (полная таблица)
  - FilterPanel развёрнута слева
  - Пагинация внизу
```

---

## ✅ ФИНАЛЬНЫЙ ЧЕК-ЛИСТ ДЛЯ FRONTEND

### СТРАНИЦЫ:

* [ ] StartMenu.tsx -- главное меню

* [ ] EventsMainPage.tsx -- список событий

* [ ] EventDetailsPage.tsx -- детали события

* [ ] AdminEventsPage.tsx -- админ-панель

### КОМПОНЕНТЫ СОБЫТИЙ:

* [ ] EventsList.tsx -- список событий

* [ ] EventCard.tsx -- карточка (мобайл)

* [ ] EventRow.tsx -- строка таблицы (десктоп)

* [ ] EventsLoadingSkeleton.tsx -- скелетон загрузки

### КОМПОНЕНТЫ ФИЛЬТРОВ:

* [ ] FilterPanel.tsx -- вся панель

* [ ] SportFilter.tsx -- кнопки спорта

* [ ] LeagueFilter.tsx -- меню лиг

* [ ] StatusFilter.tsx -- фильтр статуса

### КОМПОНЕНТЫ КОЭФФИЦИЕНТОВ:

* [ ] CoefficientDisplay.tsx -- таблица коэффициентов

* [ ] CoefficientButton.tsx -- одна кнопка

* [ ] OddsTable.tsx -- таблица коэффициентов

### КОМПОНЕНТЫ АДМИН-ПАНЕЛИ:

* [ ] EventForm.tsx -- форма добавления

* [ ] EventEditor.tsx -- редактирование события

* [ ] CoefficientEditor.tsx -- редактирование коэффициентов

* [ ] EventDeleteModal.tsx -- подтверждение удаления

* [ ] AdminEventsList.tsx -- список для админа

### КОМПОНЕНТЫ UI:

* [ ] Button.tsx -- кнопки

* [ ] Modal.tsx -- модальные окна

* [ ] LoadingSpinner.tsx -- загрузка

* [ ] Toast.tsx -- уведомления

* [ ] Badge.tsx -- бейджи статуса

### СЕРВИСЫ И ХУКИ:

* [ ] eventService.ts -- API клиент (8 функций)

* [ ] useEvents.ts -- хук загрузки событий

* [ ] useFilters.ts -- хук фильтров

* [ ] usePagination.ts -- хук пагинации

### ТИПЫ (TypeScript):

* [ ] events.ts -- все интерфейсы

### СТИЛИ:

* [ ] events.module.css -- стили событий

* [ ] filters.module.css -- стили фильтров

* [ ] admin.module.css -- стили админ-панели

* [ ] global.css -- глобальные стили

### ФУНКЦИОНАЛЬНОСТЬ:

* [ ] Загрузка событий при открытии страницы

* [ ] Фильтрация по спорту, лиге, статусу

* [ ] Пагинация работает

* [ ] При клике на коэффициент -> переход на ставку

* [ ] При клике на ✏️ -> редактирование события (админ)

* [ ] При клике на 📈 -> редактирование коэффициентов (админ)

* [ ] При клике на 🗑️ -> удаление события (админ)

* [ ] Все ошибки показываются красиво (Toast)

* [ ] Работает на мобильных устройствах

* [ ] Нет ошибок в консоли

### ИНТЕГРАЦИЯ С BACKEND:

* [ ] eventService вызывает правильные endpoints

* [ ] Все параметры передаются корректно

* [ ] Ошибки от Backend обрабатываются

* [ ] Токен авторизации передаётся в заголовок

---

## 📊 ИТОГОВЫЙ РЕЗЮМЕ

```
СТРАНИЦЫ (3):
✅ Главное меню (StartMenu)
✅ Основная страница событий (EventsMainPage)
✅ Админ-панель (AdminEventsPage)

КОМПОНЕНТЫ (15+):
✅ Компоненты событий (список, карточка, строка)
✅ Компоненты фильтрации (спорт, лига, статус)
✅ Компоненты коэффициентов (таблица, кнопки)
✅ Компоненты админ-панели (форма, редактор)
✅ UI компоненты (кнопки, модали, спинеры)

СЕРВИСЫ И ХУКИ (4):
✅ eventService.ts — 8 функций для API
✅ useEvents.ts — управление событиями
✅ useFilters.ts — управление фильтрами
✅ usePagination.ts — управление пагинацией

ТИПЫ (TypeScript):
✅ events.ts — все интерфейсы данных

СТИЛИ:
✅ events.module.css, filters.module.css, admin.module.css
✅ Адаптивный дизайн (мобайл + десктоп)
✅ Красивое оформление по дизайн-системе

ФУНКЦИОНАЛЬНОСТЬ:
✅ Загрузка и отображение событий
✅ Фильтрация, сортировка, пагинация
✅ Управление событиями (админ)
✅ Обновление коэффициентов (админ)
✅ Интеграция с модулем Третьего (ставки)
```

**Результат:**

```
┌─────────────────────────────────────────┐
│  ПОЛНОСТЬЮ ФУНКЦИОНАЛЬНЫЙ ИНТЕРФЕЙС    │
│                                         │
│  ✅ Пользователи видят события          │
│  ✅ Могут фильтровать по спорту/лиге   │
│  ✅ Видят коэффициенты                  │
│  ✅ Могут выбрать исход и ставку       │
│  ✅ Админ может управлять событиями     │
│  ✅ Красивый и удобный интерфейс       │
│  ✅ Работает на мобильных               │
│                                         │
└─────────────────────────────────────────┘
```